library(psych)
library(skimr)
library(caret)
git_url<-
"https://raw.githubusercontent.com/GitableGabe/Data621_Data/main/"
df_hate_crime <-
read.csv(paste0(git_url,"hate_crime.csv"))
head(df_hate_crime,n=3)
summary(df_hate_crime)
print(skim(df_hate_crime))
ggcorr(df_hate_crime)
temp_data <- char2numeric(df_hate_crime)
(cor_matrix <- cor(temp_data, use='complete.obs'))
rm(git_url,temp_data)
# add binary column to each dataset
df_hate_crime <- df_hate_crime %>%
mutate(Anti_semitic = ifelse(grepl("Anti-Jewish",
bias_desc, ignore.case = TRUE), 1, 0))
df_hate_crime <- df_hate_crime %>%
mutate(Violent = ifelse(grepl("*Assault*|*Abduction*|*Rape*|*Kidnapping*|*Murder*",
offense_name, ignore.case = TRUE), 1, 0))
# get counts
cnt_hate <- sum(df_hate_crime$Anti_semitic == 1)
total_hate<-nrow(df_hate_crime)
cat("Number of Anti_semitic column reports in hatecrime.csv is:",
cnt_hate," out of ",total_hate,"\n")
features <- df_hate_crime[, !(names(df_hate_crime) %in% c('Anti_semitic'))]
labels <- df_hate_crime$Anti_semitic
set.seed(123)
index <- createDataPartition(labels, p = 0.8, list = FALSE)
#training data
df_hate_training <- features[index, ]
labels_hate_training <- labels[index]
# Create testing dataset
df_hate_testing <- features[-index, ]
labels_hate_testing <- labels[-index]
View(features)
View(df_hate_training)
View(features)
View(df_hate_crime)
library(dplyr)
library(tidyr)
library(tidyverse)
library(ggplot2)
library(GGally)
library(Hmisc)
library(corrplot)
library(PerformanceAnalytics)
library(scales)
library(MASS)
library(gridExtra)
library(psych)
library(skimr)
library(caret)
git_url<-
"https://raw.githubusercontent.com/GitableGabe/Data621_Data/main/"
df_hate_crime <-
read.csv(paste0(git_url,"hate_crime.csv"))
head(df_hate_crime,n=3)
summary(df_hate_crime)
print(skim(df_hate_crime))
ggcorr(df_hate_crime)
temp_data <- char2numeric(df_hate_crime)
(cor_matrix <- cor(temp_data, use='complete.obs'))
rm(git_url,temp_data)
# add binary column to each dataset
df_hate_crime <- df_hate_crime %>%
mutate(Anti_semitic = ifelse(grepl("Anti-Jewish",
bias_desc, ignore.case = TRUE), 1, 0))
# df_hate_crime <- df_hate_crime %>%
#   mutate(Violent = ifelse(grepl("*Assault*|*Abduction*|*Rape*|*Kidnapping*|*Murder*",
#                                      offense_name, ignore.case = TRUE), 1, 0))
# get counts
cnt_hate <- sum(df_hate_crime$Anti_semitic == 1)
total_hate<-nrow(df_hate_crime)
cat("Number of Anti_semitic column reports in hatecrime.csv is:",
cnt_hate," out of ",total_hate,"\n")
features <- df_hate_crime[, !(names(df_hate_crime) %in% c('Anti_semitic'))]
labels <- df_hate_crime$Anti_semitic
set.seed(123)
index <- createDataPartition(labels, p = 0.8, list = FALSE)
#training data
df_hate_training <- features[index, ]
labels_hate_training <- labels[index]
# Create testing dataset
df_hate_testing <- features[-index, ]
labels_hate_testing <- labels[-index]
df_hate_training <- df_hate_training %>%
mutate(Anti_semitic = ifelse(grepl("Anti-Jewish",
bias_desc, ignore.case = TRUE), 1, 0))
df_hate_testing <- df_hate_testing %>%
mutate(Anti_semitic = ifelse(grepl("Anti-Jewish",
bias_desc, ignore.case = TRUE), 1, 0))
library(dplyr)
library(tidyr)
library(tidyverse)
library(ggplot2)
library(GGally)
library(Hmisc)
library(corrplot)
library(PerformanceAnalytics)
library(scales)
library(MASS)
library(gridExtra)
library(psych)
library(skimr)
library(caret)
git_url<-
"https://raw.githubusercontent.com/GitableGabe/Data621_Data/main/"
df_hate_crime <-
read.csv(paste0(git_url,"hate_crime.csv"))
head(df_hate_crime,n=3)
summary(df_hate_crime)
print(skim(df_hate_crime))
ggcorr(df_hate_crime)
df_hate_corr <- char2numeric(df_hate_crime)
(cor_matrix <- cor(df_hate_corr, use='complete.obs'))
rm(git_url)
# add binary column to each dataset
df_hate_crime <- df_hate_crime %>%
mutate(Anti_semitic_crimes = ifelse(grepl("Anti-Jewish",
bias_desc, ignore.case = TRUE), 1, 0))
# df_hate_crime <- df_hate_crime %>%
#   mutate(Violent = ifelse(grepl("*Assault*|*Abduction*|*Rape*|*Kidnapping*|*Murder*",
#                                      offense_name, ignore.case = TRUE), 1, 0))
# get counts
cnt_hate <- sum(df_hate_crime$Anti_semitic == 1)
total_hate<-nrow(df_hate_crime)
cat("Number of Anti_semitic column reports in hatecrime.csv is:",
cnt_hate," out of ",total_hate,"\n")
features <- df_hate_crime[, !(names(df_hate_crime) %in% c('Anti_semitic'))]
labels <- df_hate_crime$Anti_semitic
set.seed(123)
index <- createDataPartition(labels, p = 0.8, list = FALSE)
#training data
df_hate_training <- features[index, ]
labels_hate_training <- labels[index]
# Create testing dataset
df_hate_testing <- features[-index, ]
labels_hate_testing <- labels[-index]
df_hate_training <- df_hate_training %>%
mutate(Anti_semitic = ifelse(grepl("Anti-Jewish",
bias_desc, ignore.case = TRUE), 1, 0))
df_hate_testing <- df_hate_testing %>%
mutate(Anti_semitic = ifelse(grepl("Anti-Jewish",
bias_desc, ignore.case = TRUE), 1, 0))
library(dplyr)
library(tidyr)
library(tidyverse)
library(ggplot2)
library(GGally)
library(Hmisc)
library(corrplot)
library(PerformanceAnalytics)
library(scales)
library(MASS)
library(gridExtra)
library(psych)
library(skimr)
library(caret)
git_url<-
"https://raw.githubusercontent.com/GitableGabe/Data621_Data/main/"
df_hate_crime <-
read.csv(paste0(git_url,"hate_crime.csv"))
head(df_hate_crime,n=3)
summary(df_hate_crime)
print(skim(df_hate_crime))
ggcorr(df_hate_crime)
temp_data <- char2numeric(df_hate_crime)
(cor_matrix <- cor(temp_data, use='complete.obs'))
rm(git_url,temp_data)
# add binary column to each dataset
df_hate_crime <- df_hate_crime %>%
mutate(Anti_semitic_crimes = ifelse(grepl("Anti-Jewish",
bias_desc, ignore.case = TRUE), 1, 0))
# df_hate_crime <- df_hate_crime %>%
#   mutate(Violent = ifelse(grepl("*Assault*|*Abduction*|*Rape*|*Kidnapping*|*Murder*",
#                                      offense_name, ignore.case = TRUE), 1, 0))
# get counts
cnt_hate <- sum(df_hate_crime$Anti_semitic == 1)
total_hate<-nrow(df_hate_crime)
cat("Number of Anti_semitic column reports in hatecrime.csv is:",
cnt_hate," out of ",total_hate,"\n")
df_hate_corr <- char2numeric(df_hate_crime)
features <- df_hate_crime[, !(names(df_hate_crime) %in% c('Anti_semitic'))]
labels <- df_hate_crime$Anti_semitic
set.seed(123)
index <- createDataPartition(labels, p = 0.8, list = FALSE)
#training data
df_hate_training <- features[index, ]
labels_hate_training <- labels[index]
# Create testing dataset
df_hate_testing <- features[-index, ]
labels_hate_testing <- labels[-index]
df_hate_training <- df_hate_training %>%
mutate(Anti_semitic = ifelse(grepl("Anti-Jewish",
bias_desc, ignore.case = TRUE), 1, 0))
df_hate_testing <- df_hate_testing %>%
mutate(Anti_semitic = ifelse(grepl("Anti-Jewish",
bias_desc, ignore.case = TRUE), 1, 0))
View(df_hate_crime)
View(df_hate_corr)
library(dplyr)
library(tidyr)
library(tidyverse)
library(ggplot2)
library(GGally)
library(Hmisc)
library(corrplot)
library(PerformanceAnalytics)
library(scales)
library(MASS)
library(gridExtra)
library(psych)
library(skimr)
library(caret)
git_url<-
"https://raw.githubusercontent.com/GitableGabe/Data621_Data/main/"
df_hate_crime <-
read.csv(paste0(git_url,"hate_crime.csv"))
head(df_hate_crime,n=3)
summary(df_hate_crime)
print(skim(df_hate_crime))
ggcorr(df_hate_crime)
temp_data <- char2numeric(df_hate_crime)
(cor_matrix <- cor(temp_data, use='complete.obs'))
rm(git_url,temp_data)
# add binary column to each dataset
df_hate_crime <- df_hate_crime %>%
mutate(Anti_semitic_crimes = ifelse(grepl("Anti-Jewish",
bias_desc, ignore.case = TRUE), 1, 0))
# df_hate_crime <- df_hate_crime %>%
#   mutate(Violent = ifelse(grepl("*Assault*|*Abduction*|*Rape*|*Kidnapping*|*Murder*",
#                                      offense_name, ignore.case = TRUE), 1, 0))
# get counts
cnt_hate <- sum(df_hate_crime$Anti_semitic == 1)
total_hate<-nrow(df_hate_crime)
cat("Number of Anti_semitic column reports in hatecrime.csv is:",
cnt_hate," out of ",total_hate,"\n")
df_hate_corr <- char2numeric(df_hate_crime)
features <- df_hate_corr[, !(names(df_hate_corr) %in% c('Anti_semitic'))]
labels <- df_hate_corr$Anti_semitic_crimes
set.seed(123)
index <- createDataPartition(labels, p = 0.8, list = FALSE)
#training data
df_hate_training <- features[index, ]
labels_hate_training <- labels[index]
# Create testing dataset
df_hate_testing <- features[-index, ]
labels_hate_testing <- labels[-index]
# df_hate_training <- df_hate_training %>%
#   mutate(Anti_semitic = ifelse(grepl("Anti-Jewish",
#                                      bias_desc, ignore.case = TRUE), 1, 0))
#
# df_hate_testing <- df_hate_testing %>%
#   mutate(Anti_semitic = ifelse(grepl("Anti-Jewish",
#                                      bias_desc, ignore.case = TRUE), 1, 0))
View(df_hate_testing)
library(dplyr)
library(tidyr)
library(tidyverse)
library(ggplot2)
library(GGally)
library(Hmisc)
library(corrplot)
library(PerformanceAnalytics)
library(scales)
library(MASS)
library(gridExtra)
library(psych)
library(skimr)
library(caret)
git_url<-
"https://raw.githubusercontent.com/GitableGabe/Data621_Data/main/"
df_hate_crime <-
read.csv(paste0(git_url,"hate_crime.csv"))
head(df_hate_crime,n=3)
summary(df_hate_crime)
print(skim(df_hate_crime))
ggcorr(df_hate_crime)
temp_data <- char2numeric(df_hate_crime)
(cor_matrix <- cor(temp_data, use='complete.obs'))
rm(git_url,temp_data)
# add binary column to each dataset
df_hate_crime <- df_hate_crime %>%
mutate(Anti_semitic_crimes = ifelse(grepl("Anti-Jewish",
bias_desc, ignore.case = TRUE), 1, 0))
# df_hate_crime <- df_hate_crime %>%
#   mutate(Violent = ifelse(grepl("*Assault*|*Abduction*|*Rape*|*Kidnapping*|*Murder*",
#                                      offense_name, ignore.case = TRUE), 1, 0))
# get counts
cnt_hate <- sum(df_hate_crime$Anti_semitic == 1)
total_hate<-nrow(df_hate_crime)
cat("Number of Anti_semitic column reports in hatecrime.csv is:",
cnt_hate," out of ",total_hate,"\n")
df_hate_corr <- char2numeric(df_hate_crime)
features <- df_hate_corr[, !(names(df_hate_corr) %in% c('Anti_semitic'))]
labels <- df_hate_corr$Anti_semitic_crimes
set.seed(123)
index <- createDataPartition(labels, p = 0.8, list = FALSE)
#training data
df_hate_training <- features[index, ]
labels_hate_training <- labels[index]
# Create testing dataset
df_hate_testing <- features[-index, ]
labels_hate_testing <- labels[-index]
# df_hate_training <- df_hate_training %>%
#   mutate(Anti_semitic = ifelse(grepl("Anti-Jewish",
#                                      bias_desc, ignore.case = TRUE), 1, 0))
#
# df_hate_testing <- df_hate_testing %>%
#   mutate(Anti_semitic = ifelse(grepl("Anti-Jewish",
#                                      bias_desc, ignore.case = TRUE), 1, 0))
View(df_hate_testing)
View(df_hate_training)
test<-df_hate_training%>%
select(-c(adult_victim_count,juvenile_victim_count,adult_offender_count,juvenile_offender_count,total_individual_victims))
library(dplyr)
library(tidyr)
library(tidyverse)
library(ggplot2)
library(GGally)
library(Hmisc)
library(corrplot)
library(PerformanceAnalytics)
library(scales)
library(MASS)
library(gridExtra)
library(psych)
library(skimr)
library(caret)
test<-df_hate_training%>%
select(-c(adult_victim_count,juvenile_victim_count,adult_offender_count,juvenile_offender_count,total_individual_victims))
test<-df_hate_training%>%
select(-c('adult_victim_count'))
test<-df_hate_training%>%
select(-c(adult_victim_count))
View(features)
df_hate_training%>%
select(-c(adult_victim_count))
df_hate_training %>%
select(-c(adult_victim_count))
df_hate_training %>%
select(-c(adult_victim_count))
library(dplyr)
library(tidyr)
library(tidyverse)
library(ggplot2)
library(GGally)
library(Hmisc)
library(corrplot)
library(PerformanceAnalytics)
library(scales)
library(MASS)
library(gridExtra)
library(psych)
library(skimr)
library(caret)
git_url<-
"https://raw.githubusercontent.com/GitableGabe/Data621_Data/main/"
df_hate_crime <-
read.csv(paste0(git_url,"hate_crime.csv"))
head(df_hate_crime,n=3)
summary(df_hate_crime)
print(skim(df_hate_crime))
ggcorr(df_hate_crime)
temp_data <- char2numeric(df_hate_crime)
(cor_matrix <- cor(temp_data, use='complete.obs'))
rm(git_url,temp_data)
# add binary column to each dataset
df_hate_crime <- df_hate_crime %>%
mutate(Anti_semitic_crimes = ifelse(grepl("Anti-Jewish",
bias_desc, ignore.case = TRUE), 1, 0))
# df_hate_crime <- df_hate_crime %>%
#   mutate(Violent = ifelse(grepl("*Assault*|*Abduction*|*Rape*|*Kidnapping*|*Murder*",
#                                      offense_name, ignore.case = TRUE), 1, 0))
# get counts
cnt_hate <- sum(df_hate_crime$Anti_semitic == 1)
total_hate<-nrow(df_hate_crime)
cat("Number of Anti_semitic column reports in hatecrime.csv is:",
cnt_hate," out of ",total_hate,"\n")
df_hate_corr <- char2numeric(df_hate_crime)
features <- df_hate_corr[, !(names(df_hate_corr) %in% c('Anti_semitic'))]
labels <- df_hate_corr$Anti_semitic_crimes
set.seed(123)
index <- createDataPartition(labels, p = 0.8, list = FALSE)
#training data
df_hate_training <- features[index, ]
labels_hate_training <- labels[index]
# Create testing dataset
df_hate_testing <- features[-index, ]
labels_hate_testing <- labels[-index]
df_hate_training %>%
select(-c(adult_victim_count))
test <- df_hate_training %>% select(-c(adult_victim_count))
test <- df_hate_training %>% dplyr::select(-c(adult_victim_count))
test <- df_hate_training %>% dplyr::select(-c(adult_victim_count,juvenile_victim_count,adult_offender_count,juvenile_offender_count,total_individual_victims))
View(features)
df_hate_training <- df_hate_training %>% dplyr::select(-c(adult_victim_count,juvenile_victim_count,adult_offender_count,juvenile_offender_count,total_individual_victims))
df_hate_testing <- df_hate_testing %>% dplyr::select(-c(adult_victim_count,juvenile_victim_count,adult_offender_count,juvenile_offender_count,total_individual_victims))
View(features)
df_hate_training <- df_hate_training %>% dplyr::select(-c('adult_victim_count',juvenile_victim_count,adult_offender_count,juvenile_offender_count,total_individual_victims))
test <- df_hate_training %>% dplyr::select(-c(adult_victim_count,juvenile_victim_count,adult_offender_count,juvenile_offender_count,total_individual_victims))
View(test)
test <- df_hate_training %>% dplyr::select(-c(adult_victim_count,juvenile_victim_count,adult_offender_count,juvenile_offender_count,total_individual_victims))
library(dplyr)
library(tidyr)
library(tidyverse)
library(ggplot2)
library(GGally)
library(Hmisc)
library(corrplot)
library(PerformanceAnalytics)
library(scales)
library(MASS)
library(gridExtra)
library(psych)
library(skimr)
library(caret)
git_url<-
"https://raw.githubusercontent.com/GitableGabe/Data621_Data/main/"
df_hate_crime <-
read.csv(paste0(git_url,"hate_crime.csv"))
head(df_hate_crime,n=3)
summary(df_hate_crime)
print(skim(df_hate_crime))
ggcorr(df_hate_crime)
temp_data <- char2numeric(df_hate_crime)
(cor_matrix <- cor(temp_data, use='complete.obs'))
rm(git_url,temp_data)
# add binary column to each dataset
df_hate_crime <- df_hate_crime %>%
mutate(Anti_semitic_crimes = ifelse(grepl("Anti-Jewish",
bias_desc, ignore.case = TRUE), 1, 0))
# df_hate_crime <- df_hate_crime %>%
#   mutate(Violent = ifelse(grepl("*Assault*|*Abduction*|*Rape*|*Kidnapping*|*Murder*",
#                                      offense_name, ignore.case = TRUE), 1, 0))
# get counts
cnt_hate <- sum(df_hate_crime$Anti_semitic == 1)
total_hate<-nrow(df_hate_crime)
cat("Number of Anti_semitic column reports in hatecrime.csv is:",
cnt_hate," out of ",total_hate,"\n")
df_hate_corr <- char2numeric(df_hate_crime)
features <- df_hate_corr[, !(names(df_hate_corr) %in% c('Anti_semitic'))]
labels <- df_hate_corr$Anti_semitic_crimes
set.seed(123)
index <- createDataPartition(labels, p = 0.8, list = FALSE)
#training data
df_hate_training <- features[index, ]
labels_hate_training <- labels[index]
# Create testing dataset
df_hate_testing <- features[-index, ]
labels_hate_testing <- labels[-index]
test <- df_hate_training %>% dplyr::select(-c(adult_victim_count,juvenile_victim_count,adult_offender_count,juvenile_offender_count,total_individual_victims))
# df_hate_testing <- df_hate_testing %>% dplyr::select(-c(adult_victim_count,juvenile_victim_count,adult_offender_count,juvenile_offender_count,total_individual_victims))
df_hate_training <- df_hate_training %>% dplyr::select(-c(adult_victim_count,juvenile_victim_count,adult_offender_count,juvenile_offender_count,total_individual_victims))
# df_hate_testing <- df_hate_testing %>% dplyr::select(-c(adult_victim_count,juvenile_victim_count,adult_offender_count,juvenile_offender_count,total_individual_victims))
library(dplyr)
library(tidyr)
library(tidyverse)
library(ggplot2)
library(GGally)
library(Hmisc)
library(corrplot)
library(PerformanceAnalytics)
library(scales)
library(MASS)
library(gridExtra)
library(psych)
library(skimr)
library(caret)
git_url<-
"https://raw.githubusercontent.com/GitableGabe/Data621_Data/main/"
df_hate_crime <-
read.csv(paste0(git_url,"hate_crime.csv"))
head(df_hate_crime,n=3)
summary(df_hate_crime)
print(skim(df_hate_crime))
ggcorr(df_hate_crime)
temp_data <- char2numeric(df_hate_crime)
(cor_matrix <- cor(temp_data, use='complete.obs'))
rm(git_url,temp_data)
# add binary column to each dataset
df_hate_crime <- df_hate_crime %>%
mutate(Anti_semitic_crimes = ifelse(grepl("Anti-Jewish",
bias_desc, ignore.case = TRUE), 1, 0))
# df_hate_crime <- df_hate_crime %>%
#   mutate(Violent = ifelse(grepl("*Assault*|*Abduction*|*Rape*|*Kidnapping*|*Murder*",
#                                      offense_name, ignore.case = TRUE), 1, 0))
# get counts
cnt_hate <- sum(df_hate_crime$Anti_semitic == 1)
total_hate<-nrow(df_hate_crime)
cat("Number of Anti_semitic column reports in hatecrime.csv is:",
cnt_hate," out of ",total_hate,"\n")
df_hate_corr <- char2numeric(df_hate_crime)
features <- df_hate_corr[, !(names(df_hate_corr) %in% c('Anti_semitic'))]
labels <- df_hate_corr$Anti_semitic_crimes
set.seed(123)
index <- createDataPartition(labels, p = 0.8, list = FALSE)
#training data
df_hate_training <- features[index, ]
labels_hate_training <- labels[index]
# Create testing dataset
df_hate_testing <- features[-index, ]
labels_hate_testing <- labels[-index]
df_hate_training <- df_hate_training %>% dplyr::select(-c(adult_victim_count,juvenile_victim_count,adult_offender_count,juvenile_offender_count,total_individual_victims))
df_hate_testing <- df_hate_testing %>% dplyr::select(-c(adult_victim_count,juvenile_victim_count,adult_offender_count,juvenile_offender_count,total_individual_victims))
df_hate_training %>%
gather() %>%
ggplot(aes(x = value)) +
geom_histogram(fill = "cadetblue") +
facet_wrap(~key, scales = "free")
